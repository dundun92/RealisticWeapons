PART
{
	// Kerbal Space Program - Part Config

	// --- general parameters ---
	name = Aim9M
	module = Part
	author = dundun92

	// --- asset parameters ---
	MODEL
    {
        model = BDArmory/Parts/sidewinder/model
    } 
	rescaleFactor = 1

	// --- node definitions ---
	node_attach = 0.0, 0.06188124, 0, 0, 1, 0, 0
	node_stack_top = 0.0, 0.06188124, 0, 0, 1, 0, 0

	 // --- editor parameters ---
    TechRequired = precisionEngineering
    entryCost = 1400
    cost = 1200
    category = none
    bdacategory = Missiles
    subcategory = 0
    bulkheadProfiles = srf
	title = AIM-9M Sidewinder Missile
	manufacturer = KWS
	description = Short range heat seeking missile with limited flare rejection capabilities.
	// attachment rules: stack, srfAttach, allowStack, allowSrfAttach, allowCollision
	attachRules = 1,1,0,0,1

	// --- standard part parameters ---
	mass = 0.085
	dragModelType = default
	maximum_drag = 0.005
	minimum_drag = 0.005
	angularDrag = 1
	crashTolerance = 5
	maxTemp = 3600


	MODULE
	{
		name = MissileLauncher

		shortName = AIM-9M

		thrust = 12 //KN thrust during boost phase
		cruiseThrust = 0 //thrust during cruise phase
		dropTime = 0 //how many seconds after release until engine ignites
		boostTime = 5.23 //seconds of boost phase
		cruiseTime = 0 //seconds of cruise phase
		guidanceActive = true //missile has guidanceActive
		maxTurnRateDPS = 45 //degrees per second
		decoupleSpeed = 10
		decoupleForward = true

		audioClipPath = BDArmory/Sounds/rocketLoop
		exhaustPrefabPath = BDArmory/Models/exhaust/smallExhaust
		boostExhaustPrefabPath = BDArmory/Models/exhaust/mediumExhaust
		boostExhaustTransformName = boostTransform
		boostTransformName = boostTransform

		optimumAirspeed = 894

		aero = true
		liftArea = 0.129
		steerMult = 4
		maxTorque = 15
		maxAoA = 35
		torqueRampUp = 50

		homingType = aam
		missileType = missile
		targetingType = heat
		heatThreshold = 50

		maxOffBoresight = 45
		allAspect = true																					 
		lockedSensorFOV = 6
		lockedSensorFOVBias
        {
            // floatcurve to define how the missile weights targets and flares off the center of where the seeker is looking
            // is only active once the missile has locked onto a target
            // should be set from 0 (seeker is looking directly at target/flare) to at least lockedSensorFOV/2 (target/flare is on edge of sensor FOV)
            // it is recommended that the value at 0 be set to 1.0 and max value set to 0. Here is an example of an effective flare rejection curve:
            //		key = angle off seeker centerline   weighting bias
            //		key = 0.0   1       // Highest weighing on centerline
            //		key = 3     0.83    // 17% lower weighting at edge of sensor FOV
            //		key = 10    0.25    // Beyond Sidewinder FOV, provided for example purposes for large sensor FOV missiles
            //		key = 30    0.1     //
            //		key = 90    0.0     // Beyond 90 flare/target is behind missile
            // This set up will maxmize flare effectiviness:
            //		key = 0.0   1
            //		key = 90    1
            // This is the current default curve (same as 1.4.0.7 BDAc Sidewinder):
					key = 0 1 0 0
					key = 0.6 0.993333333333333 -0.0222222222222222 -0.0222222222222222
					key = 1.2 0.973333333333333 -0.0444444444444444 -0.0444444444444444
					key = 1.8 0.94 -0.0666666666666667 -0.0666666666666667
					key = 2.4 0.893333333333333 -0.0888888888888889 -0.0888888888888889
					key = 3 0.833333333333333 -0.111111111111111 -0.111111111111111
            // For other missiles it will scale from 0 to lockedSensorFOV/2 instead of 0 to 3 (3 = lockedSensorFOV/2 for Sidewinder)
        }
        lockedSensorVelocityBias
        {
            // floatcurve to define how the missile weights targets and flares based on the angle between their velocity vectors
            // is only active once the missile has locked onto a target
            // should be set from 0 (tracked target and flare/alternate target have aligned velocity vectors)
            // to an angle less than 180 (tracked target and flare/alternate target travelling in opposite directions)
            // it is recommended that the value at 0 be set to 1.0 and max key value be 0. Here is an example of an effective flare rejection curve:
            //		key = angle between velocities			weighting bias
            //		key = 0.0   1       // Highest weighing for target/flare travelling in same direction as tracked target
            //		key = 3.0   0.83    //
            //		key = 10    0.25    //
            //		key = 30    0.1     //
            //		key = 90    0.0     // ignore flares travelling perpendicular to target or in opposite direction
            // This set up will maxmize flare effectiviness:
            //		key = 0.0 1
            //		key = 180 1
            // This is the current default curve (same as 1.4.0.7 BDAc Sidewinder):
                    key = 0.0 1
                    key = 180 1
        }

		minStaticLaunchRange = 200
		maxStaticLaunchRange = 18000
		
		engageAir = true
		engageMissile = false
		engageGround = false
		engageSLW = false
	  	  
	}
	MODULE
	{
		name = BDExplosivePart
		tntMass = 20
	}

}
